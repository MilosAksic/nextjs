{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Front end\\\\Praksa\\\\next-vezba\\\\next-example\\\\components\\\\NameForm.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport { Button, Input, ErrorMsg } from \"./styledComponents\";\n\nvar reducer = function reducer(state, action) {\n  switch (action.type) {\n    case \"SET_FIELD_VALIUE\":\n      return _objectSpread({}, state, {\n        values: _objectSpread({}, state.values, {}, action.payload)\n      });\n\n    case \"SET_FIELD_TOUCHED\":\n      return _objectSpread({}, state, {\n        touched: _objectSpread({}, state.touched, {}, action.payload)\n      });\n\n    case \"SET_ERRORS\":\n      return _objectSpread({}, state, {\n        errors: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nvar useFormik = function useFormik(props) {\n  if (!props.onSubmit) {\n    throw new Error(\"You forgot to pass on submit to useFormik\");\n  }\n\n  var _React$useReducer = React.useReducer(reducer, {\n    values: props.initialValues,\n    errors: {},\n    touched: {}\n  }),\n      _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n      state = _React$useReducer2[0],\n      dispatch = _React$useReducer2[1];\n\n  React.useEffect(function () {\n    if (props.validate) {\n      var errors = props.validate(state.values);\n      dispatch({\n        type: \"SET_ERRORS\",\n        payload: errors\n      });\n    }\n  }, [state.values]);\n\n  var handleChange = function handleChange(event) {\n    event.persist();\n    dispatch({\n      type: \"SET_FIELD_VALIUE\",\n      payload: _defineProperty({}, event.target.name, event.target.value)\n    });\n  };\n\n  var handleBlur = function handleBlur(event) {\n    event.persist();\n    dispatch({\n      type: \"SET_FIELD_TOUCHED\",\n      payload: _defineProperty({}, event.target.name, true)\n    });\n  };\n\n  var handleSubmit = function handleSubmit(event) {\n    event.preventDefault(); //validate\n    //mark each field as touched\n\n    props.onSubmit(state.values);\n  };\n\n  return _objectSpread({\n    handleChange: handleChange,\n    handleBlur: handleBlur,\n    handleSubmit: handleSubmit\n  }, state);\n};\n\nvar NameForm = function NameForm() {\n  var formik = useFormik({\n    initialValues: {\n      name: \"\",\n      email: \"\"\n    },\n    onSubmit: function onSubmit(values) {\n      alert(_JSON$stringify(values, null, 2));\n    },\n    validate: function validate(values) {\n      var errors = {};\n\n      if (values.name !== \"admin\") {\n        errors.name = \"you are not allowed\";\n      }\n\n      return errors;\n    }\n  });\n  var handleSubmit = formik.handleSubmit,\n      handleBlur = formik.handleBlur,\n      handleChange = formik.handleChange,\n      values = formik.values,\n      touched = formik.touched,\n      errors = formik.errors;\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, \"Name:\", __jsx(Input, {\n    type: \"text\",\n    name: \"name\",\n    value: values.name,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }), errors.name && touched.name && __jsx(ErrorMsg, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \" \", errors.name)), __jsx(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }), __jsx(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"Email:\", __jsx(Input, {\n    type: \"email\",\n    name: \"email\",\n    value: values.email,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  })), __jsx(Button, {\n    type: \"submit\",\n    primary: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, \"Submit\")));\n};\n\nexport default NameForm;","map":{"version":3,"sources":["C:/Front end/Praksa/next-vezba/next-example/components/NameForm.js"],"names":["React","Button","Input","ErrorMsg","reducer","state","action","type","values","payload","touched","errors","useFormik","props","onSubmit","Error","useReducer","initialValues","dispatch","useEffect","validate","handleChange","event","persist","target","name","value","handleBlur","handleSubmit","preventDefault","NameForm","formik","email","alert"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Button, Input, ErrorMsg } from \"./styledComponents\";\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"SET_FIELD_VALIUE\":\r\n      return {\r\n        ...state,\r\n        values: {\r\n          ...state.values,\r\n          ...action.payload\r\n        }\r\n      };\r\n    case \"SET_FIELD_TOUCHED\":\r\n      return {\r\n        ...state,\r\n        touched: {\r\n          ...state.touched,\r\n          ...action.payload\r\n        }\r\n      };\r\n    case \"SET_ERRORS\":\r\n      return {\r\n        ...state,\r\n        errors: action.payload\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nconst useFormik = props => {\r\n  if (!props.onSubmit) {\r\n    throw new Error(\"You forgot to pass on submit to useFormik\");\r\n  }\r\n  const [state, dispatch] = React.useReducer(reducer, {\r\n    values: props.initialValues,\r\n    errors: {},\r\n    touched: {}\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    if (props.validate) {\r\n      const errors = props.validate(state.values);\r\n      dispatch({ type: \"SET_ERRORS\", payload: errors });\r\n    }\r\n  }, [state.values]);\r\n\r\n  const handleChange = event => {\r\n    event.persist();\r\n    dispatch({\r\n      type: \"SET_FIELD_VALIUE\",\r\n      payload: { [event.target.name]: event.target.value }\r\n    });\r\n  };\r\n\r\n  const handleBlur = event => {\r\n    event.persist();\r\n    dispatch({\r\n      type: \"SET_FIELD_TOUCHED\",\r\n      payload: { [event.target.name]: true }\r\n    });\r\n  };\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n    //validate\r\n    //mark each field as touched\r\n    props.onSubmit(state.values);\r\n  };\r\n\r\n  return { handleChange, handleBlur, handleSubmit, ...state };\r\n};\r\n\r\nconst NameForm = () => {\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      name: \"\",\r\n      email: \"\"\r\n    },\r\n    onSubmit: values => {\r\n      alert(JSON.stringify(values, null, 2));\r\n    },\r\n    validate: values => {\r\n      let errors = {};\r\n      if (values.name !== \"admin\") {\r\n        errors.name = \"you are not allowed\";\r\n      }\r\n      return errors;\r\n    }\r\n  });\r\n  const {\r\n    handleSubmit,\r\n    handleBlur,\r\n    handleChange,\r\n    values,\r\n    touched,\r\n    errors\r\n  } = formik;\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          Name:\r\n          <Input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={values.name}\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n          ></Input>\r\n          {errors.name && touched.name && <ErrorMsg> {errors.name}</ErrorMsg>}\r\n        </label>\r\n        <br />\r\n\r\n        <label>\r\n          Email:\r\n          <Input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={values.email}\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n          ></Input>\r\n        </label>\r\n        <Button type=\"submit\" primary>\r\n          Submit\r\n        </Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NameForm;\r\n"]},"metadata":{},"sourceType":"module"}